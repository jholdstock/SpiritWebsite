{% extends "admin/admin-base.twig" %}
{% block head %}
		
	<!-- AreYouSure? -->
	<script src="/js/vendor/areyousure/jquery.are-you-sure.js"></script>
	<script src="/js/vendor/areyousure/ays-beforeunload-shim.js"></script>

	<style>
		textarea {
			display: block;
		  margin-top: 10px;
		  margin-left: 10px;
		  background: none repeat scroll 0 0 rgba(0, 0, 0, 0.07);
		  border-color: -moz-use-text-color #FFFFFF #FFFFFF -moz-use-text-color;
		  border-image: none;
		  border-radius: 6px 6px 6px 6px;
		  border-style: none solid solid none;
		  border-width: medium 1px 1px medium;
		  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12) inset;
		  color: #333;
		  font-size: 1em;
		  line-height: 1.4em;
		  padding: 5px 8px;
		}

		textarea:focus {
		  background: none repeat scroll 0 0 #FFFFFF;
		  outline-width: 0;
		}

		button {
			moz-box-shadow:inset 0px 1px 3px 0px #91b8b3;
			-webkit-box-shadow:inset 0px 1px 3px 0px #91b8b3;
			box-shadow:inset 0px 1px 3px 0px #91b8b3;
			background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #768d87), color-stop(1, #6c7c7c));
			background:-moz-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
			background:-webkit-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
			background:-o-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
			background:-ms-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
			background:linear-gradient(to bottom, #768d87 5%, #6c7c7c 100%);
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#768d87', endColorstr='#6c7c7c',GradientType=0);
			background-color:#768d87;
			-moz-border-radius:5px;
			-webkit-border-radius:5px;
			border-radius:5px;
			border:1px solid #566963;
			display:inline;
			cursor:pointer;
			color:#ffffff;
			font-family:Arial;
			font-size:15px;
			font-weight:bold;
			padding:5px 10px;
			margin: 1em;
			text-decoration:none;
			text-shadow:0px -1px 0px #2b665e;
		}

		button:hover {
			background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #6c7c7c), color-stop(1, #768d87));
			background:-moz-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
			background:-webkit-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
			background:-o-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
			background:-ms-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
			background:linear-gradient(to bottom, #6c7c7c 5%, #768d87 100%);
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#6c7c7c', endColorstr='#768d87',GradientType=0);
			background-color:#6c7c7c;
		}

		button:active {
			position:relative;
			top:1px;
		}
	</style>

{% endblock head %}

{% block body %}
		<h2 style="display:inline; margin-right:8em;">About us</h2>
		<button type="submit" onclick="return checkIfAnyValueChanged();" form="about-us-form">Save Changes</button>
		<form id="about-us-form" method="get">
		{% for i in 1..6 %}
			<textarea type="text" name="heading{{i}}" cols="70" rows="1" class="submitOnlyChanged">{{ strings["about-us"][i]["heading"] }}</textarea>
			<textarea type="text" name="text{{i}}"    cols="80" rows="8" class="submitOnlyChanged"   >{{ strings["about-us"][i]["text"] }}</textarea>
			<br /><br />
		{% endfor %}
		</form>
	
		<script>
			$(function() {
		    $('#about-us-form').areYouSure();
				$("#about-us-form").submit(function() {
				    return confirm("!!! WARNING !!!\n\nChanges will become visible on the website immediately.\n\nAre you sure you wish to save?")
				});
		  });

			var anyInputChanged = false;
			var checkIfAnyValueChanged = function(){ 
				if (anyInputChanged == false) {
					alert("No changes to save");
				}
				return anyInputChanged; 
			};
			$('.submitOnlyChanged').change(function(){ anyInputChanged = true; });
		</script>
{% endblock %}
